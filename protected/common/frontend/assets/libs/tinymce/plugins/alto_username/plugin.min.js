$(function () {
    tinymce.PluginManager.add("alto_username", function (t, e) {
        t.addCommand("InsertUsername", function () {

            t.windowManager.open({
                title: ls.lang.get('panel_user'),
                body: [
                    {type: "textbox", name: "login", label: ls.lang.get("panel_user_login"), value: ''},
                ],
                onsubmit: function (e) {
                    var login = e.data.login || 'username';

                    var content = '<span conteneditable="false"><span contenteditable="false"><alto:user  login="'+login+'" style="pointer-events: none; border: 1px dotted #3A3A3A; background: #d5d5d5; display: inline;">'+login+'</alto:user></span></span>';
                    t.insertContent(content);
                }
            });

        });

    });
})


